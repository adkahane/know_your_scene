<!DOCTYPE html>
<html>
	<head>
		<title>Our Scene</title>
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
		<!-- Add Bootstrap JS and jQuery -->
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
		<!-- Add Font Awesome CSS -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
		<!-- Custom CSS File -->
		<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
		<!-- Add Datepicker JS and CSS -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
		<!-- Custom JS File -->
		<script src="{{ url_for('static', filename='js/script.js') }}"></script>
	</head>
	<body>
		<nav class="sidebar" id="sidebar">
			<ul>
				<li><a href="/"><i class="fas fa-home"></i> <span>Explore a Scene</span></a></li>
				<li><a href="/search-band"><i class="fas fa-search"></i> <span>Search Bands</span></a></li>
				<li><a href="/add-show"><i class="fas fa-plus"></i> <span>Add a Show</span></a></li>
				<li><a href="/add-band"><i class="fas fa-music"></i> <span>Add a Band</span></a></li>
			</ul>
		</nav>
	
		<!-- Navbar -->
		<nav class="navbar navbar-dark bg-dark fixed-top">
			<button id="sidebar-toggle" class="navbar-toggler" type="button">
				<span class="navbar-toggler-icon"></span>
			</button>
			<ul class="navbar-nav ml-auto">
				<li class="nav-item">
					<a class="nav-link" href="/login">Login</a>
				</li>
			</ul>
		</nav>

		<!-- Page Content -->
		<div class="container-fluid">
			<h1 class="mt-3 text-center">Find My Scene</h1>
			<form action="/the-scene" method="GET" id="searchForm">
				<div class="form-row">
					<div class="form-group col-md-2">
						<label for="state">State</label>
						<select id="state" class="form-control" name="state" required>
							<option value="">State</option>
						</select>
					</div>
					<div class="form-group col-md-2">
						<label for="city">City</label>
						<input type="text" class="form-control" id="city" name="city">
					</div>
					<div class="form-group col-md-2">
						<label for="scene">Music Scene</label>
						<input type="text" class="form-control" id="scene" name="scene" required>
					</div>
					<div class="form-group col-md-2">
						<label for="start_date">Start Date</label>
						<input type="text" class="form-control datepicker" id="start_date" name="start_date">
					</div>
					<div class="form-group col-md-2">
						<label for="end_date">End Date</label>
						<input type="text" class="form-control datepicker" id="end_date" name="end_date">
					</div>
				</div>
				<button class="btn btn-primary" type="submit">Apply Filter</button>
				<p id="error" class="error-msg" style="display: none;"></p>
			</form>

			<div id="timeline" class="timeline">
				<div class="timeline">
					{% for result in results %}
					<div class="timeline-item">
						<div class="timeline-content">
							<h3>{{ result['band_name'] }}</h3>
							<p>Venue: {{ result[1] }}</p>
							<p>Date: {{ result[2] }}</p>
							<p>Location: {{ result[3] }}, {{ result[4] }}</p>
						</div>
					</div>
					{% endfor %}
				</div>
			</div>
		</div>

		<!-- Add Font Awesome JS -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/js/all.min.js"></script>
	</body>
</html>